<html>
<head>
 <title>攒心计算器</title>
</head>
<body onload="printToday()">
 <p>现在（东京时间）：<span id="today"></span></p>
 <p>前排提示：1.能打的新EX，新MA先都打了，否则计算会有偏差<br>
	2.目前水团只有Step Up抽卡，因此<del>超过120的可以不攒了留着过年</del>最后抽卡计数的结果只计算μ's成员的，敬请原谅<br>
	3.<del>目前<strong>iOS系统出现只有绚濑绘里能输出正常结果的问题</strong>，不知道怎么解#(滑稽)#(心碎)请iOS用户在PC端使用这玩意，或者借台安卓机也可以</del>已解（2018.5.9）<br>
	4.如果今天正好是某人的生日那么预测可获得心数会出现负数的情况，由于边界值引起，但懒得改了，反正本次也攒不起心了。等到第2天该成员来到明年的年份后会恢复正常。<br>
	5.生日单人限定开始时间为该成员(A)生日前一天，而“其他成员生日策略”处记录的为截止该成员生日为止还未到生日的总人数。
	  若今天是某成员(B)生日前一天，那么玩家有可能已经抽了B的生日单人限定，而此时B没有被排除在“其他成员生日策略”的名单之外，因此算心时把B算了进去。
	  因此，如果你属于这种情况，请自行补上抽掉的心数，或者过一天再来算。<br>
</p>
 <p>抽谁的生日卡：
 <select id="member" onchange="daystobirth(value,true);otherMemberLoveca(value);newex();newma();calendar();predictloginbonus();total();sum();TicketEventBonus

();totalTicketSum();MuseMemberGachaMax();otherBirth()">
  <option value ="blank"></option>
  <option value ="honoka">高坂穗乃果</option>
  <option value ="eli">绚濑绘里</option>
  <option value="kotori">南小鸟</option>
  <option value="umi">园田海未</option>
  <option value="rin">星空凛</option>
  <option value="maki">西木野真姬</option>
  <option value="nozomi">东条希</option>
  <option value="hanayo">小泉花阳</option>
  <option value="nico">矢泽妮可</option>
  <option value="chika">高海千歌</option>
  <option value="riko">樱内梨子</option>
  <option value="kanan">松浦果南</option>
  <option value="dia">黑泽黛雅</option>
  <option value="you">渡边曜</option>
  <option value="yoshiko">津岛善子</option>
  <option value="hanamaru">国木田花丸</option>
  <option value="mari">小原鞠莉</option>
  <option value="ruby">黑泽露比</option>
 </select>
 @ <span id="birth"></span>
 </p>
 <p>当前心数（如果礼物盒、支线剧情的心不想拿出来，请清点了加到这里）：<input id="current" type="number" value="0" onchange="sum();MuseMemberGachaMax()"/></p>
 <p>预测可获得心数：<span id="loveca"></span><br>
	每日一心：<span id="daily"></span><br>
	其他人生日（含自己当天）：<span id="othersbirth"></span><br>
	新EX：每首能拿<input id="lovecaperex" type="number" value="2" min = "1" max = "3" onchange = "newex();total();sum();MuseMemberGachaMax()"/>心，共计<span 

id="newexpert"></span>心<br>
	新MA：每首能拿<input id="lovecaperma" type="number" value="5" min = "1" max = "7" onchange = "newma();total();sum();MuseMemberGachaMax()"/>心，共计<span 

id="newmaster"></span>心<br>
	登录日历：<span id="loginCalendar"></span><br>
	活动攒心（不计现在进行中的和生日所在当期活动）：<select id="eventset" onchange="eventCount(value);total();sum();MuseMemberGachaMax()">
	<option value="blank">选择活动策略</option>
	<option value="normal">平刷</option>
	<option value="pt11w">十一万pt</option>
	<option value="pt13w">十三万pt</option>
	</select>，共<span id="eventloveca">0</span>心<br>
	各种登陆奖励（预测值）：<input id="loginbonus" type="number" value="0" onchange="total();sum();MuseMemberGachaMax()" /><br>
 </p>
 <p>
	其他成员生日单人限定Step Up抽卡策略：<br>
	μ's：<select id="OtherStepUpMuse" onchange="MuseBirthGacha(value);total();sum();MuseMemberGachaMax()">
	<option value="0">0心</option>
	<option value="30">30心</option>
	<option value="80">80心</option>
	</select>，共用心<span id="MuseTotalLoveca">0</span><br>
	Aqours：<select id="OtherStepUpAqours" onchange="AqoursBirthGacha(value);total();sum();MuseMemberGachaMax()">
	<option value="0">0心</option>
	<option value="30">30心</option>
	<option value="120">120心</option>
	</select>，共用心<span id="AqoursTotalLoveca">0</span><br>
 </p>
 <p>
	预测成员生日当天总心数：<strong><font color="red"><span id="totalloveca"></span></font></strong>
 </p>
 <p>
	可选：攒券<br>
	现有单抽券数：<input id="currentTicket" type="number" value="0" onchange="totalTicketSum();MuseMemberGachaMax()"/> <br>
	活动攒券：<select id="eventTicket" onchange="TicketEventget(value);TicketEventBonus();totalTicketSum();MuseMemberGachaMax()">
	<option value="blank">选择活动策略</option>
	<option value="third">三档</option>
	<option value="second">二档</option>
	<option value="first">一档</option>
	<option value="shisanwan">十三万pt</option>
	</select>，共<span id="eventTicketSum">0</span>券<br>
	MF活动攒券（假设4个月举行1次，每次得<input id="mfTEv" type="number" value="2" onchange="TicketEventBonus();totalTicketSum();MuseMemberGachaMax()" />张券）：

<span id="mfTicket"></span><br>
	CF活动攒券（假设3个月举行1次，每次得<input id="cfTEv" type="number" value="3" onchange="TicketEventBonus();totalTicketSum();MuseMemberGachaMax()" />张券）：

<span id="cfTicket"></span><br>
	协力活动攒券（假设2个月举行1次，每次得<input id="nmTEv" type="number" value="5" onchange="TicketEventBonus();totalTicketSum();MuseMemberGachaMax()" />张券）：

<span id="nmTicket"></span><br>
	登陆奖励送券（预测值）：<input id="loginbonusTicket" type="number" value="0" onchange="totalTicketSum();MuseMemberGachaMax()" /><br>
	预测成员生日当天总券数：<strong><font color="red"><span id="totalTicket"></span></font></strong>
 </p>
 <p>
	可选：氪礼包<br>
	现有11连券：<input id="current11Ticket" type="number" value="0" onchange="MuseMemberGachaMax()"/> <br>
	现有3连券：<input id="current3Ticket" type="number" value="0" onchange="MuseMemberGachaMax()"/> <br>
	预计氪11连券：<input id="Buy11Ticket" type="number" value="0" onchange="MuseMemberGachaMax()"/> 
	参考：剩余月初礼包*<span id="months"></span>,成员生日礼包*<span id="memberBirth"></span>,其他乱七八糟的礼包*<span id="randomPack"></span><br>
 </p>
 <p>
	该成员Step Up 80心抽不抽：<select id="this80" onchange="MuseMemberGachaMax()">
	<option value="yes">抽</option>
	<option value="no">不抽</option>
	</select><br>
	计算结果（可以抽BOX内卡片数目）：<strong><font color="red"><span id="MuseMemberResult"></span></font></strong><br>
	能获得<input id="NeedCard" type="number" value="0" onchange="MuseMemberGachaMax()"/>张BOX生日卡概率：<span id="card1"></span><br>
	 ↑以上概率的前提是抽到生日卡即重置，剩一张普U还想抽出来的不在此范围内
 </p>
 <p>
	Author: aruyuna~ at 2018.04.17 <br>
	bilibili mainpage: <a href="https://space.bilibili.com/5054198/">https://space.bilibili.com/5054198</a><br>
	微信公众号：yuna的SIF小屋<br>
 </p>
 <script src="script.js"></script>
</body>
</html>
